<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mallory Wang">
<meta name="dcterms.date" content="2024-07-23">

<title>PSTAT 5A: Lecture 19 – PSTAT 5A: Summer Session A, 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../Images/Logos_Icons/5a_hex.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#multiple-populations" id="toc-multiple-populations" class="nav-link active" data-scroll-target="#multiple-populations">Multiple Populations</a></li>
  <li><a href="#two-populations" id="toc-two-populations" class="nav-link" data-scroll-target="#two-populations">Two Populations</a>
  <ul class="collapse">
  <li><a href="#two-populations-1" id="toc-two-populations-1" class="nav-link" data-scroll-target="#two-populations-1">Two Populations</a></li>
  <li><a href="#two-populations-2" id="toc-two-populations-2" class="nav-link" data-scroll-target="#two-populations-2">Two Populations</a></li>
  <li><a href="#two-populations-3" id="toc-two-populations-3" class="nav-link" data-scroll-target="#two-populations-3">Two Populations</a></li>
  <li><a href="#sampling-distribution-of-barx_1-barx_2" id="toc-sampling-distribution-of-barx_1-barx_2" class="nav-link" data-scroll-target="#sampling-distribution-of-barx_1-barx_2">Sampling Distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span></a></li>
  <li><a href="#sampling-distribution-of-barx_1-barx_2-1" id="toc-sampling-distribution-of-barx_1-barx_2-1" class="nav-link" data-scroll-target="#sampling-distribution-of-barx_1-barx_2-1">Sampling Distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span></a></li>
  </ul></li>
  <li><a href="#hypothesis-test-for-mu_1-mu_2" id="toc-hypothesis-test-for-mu_1-mu_2" class="nav-link" data-scroll-target="#hypothesis-test-for-mu_1-mu_2">Hypothesis Test for <span class="math inline">\(\mu_1-\mu_2\)</span></a>
  <ul class="collapse">
  <li><a href="#hypothesis-test-for-mu_1-mu_2-1" id="toc-hypothesis-test-for-mu_1-mu_2-1" class="nav-link" data-scroll-target="#hypothesis-test-for-mu_1-mu_2-1">Hypothesis Test for <span class="math inline">\(\mu_1-\mu_2\)</span></a></li>
  <li><a href="#step-1-write-the-hypothesis-statements" id="toc-step-1-write-the-hypothesis-statements" class="nav-link" data-scroll-target="#step-1-write-the-hypothesis-statements">Step 1: Write the hypothesis statements</a></li>
  <li><a href="#step-2-check-conditions-for-your-sampling-distribution" id="toc-step-2-check-conditions-for-your-sampling-distribution" class="nav-link" data-scroll-target="#step-2-check-conditions-for-your-sampling-distribution">Step 2: Check conditions for your sampling distribution</a></li>
  <li><a href="#step-3-calculate-test-statistic" id="toc-step-3-calculate-test-statistic" class="nav-link" data-scroll-target="#step-3-calculate-test-statistic">Step 3: Calculate test statistic</a></li>
  <li><a href="#step-4-make-decision-on-test-and-step-5-write-a-conclusion" id="toc-step-4-make-decision-on-test-and-step-5-write-a-conclusion" class="nav-link" data-scroll-target="#step-4-make-decision-on-test-and-step-5-write-a-conclusion">Step 4: Make decision on test and Step 5: Write a conclusion</a></li>
  <li><a href="#worked-out-example" id="toc-worked-out-example" class="nav-link" data-scroll-target="#worked-out-example">Worked-Out Example</a></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions">Solutions</a></li>
  <li><a href="#solutions-1" id="toc-solutions-1" class="nav-link" data-scroll-target="#solutions-1">Solutions</a></li>
  <li><a href="#solutions-2" id="toc-solutions-2" class="nav-link" data-scroll-target="#solutions-2">Solutions</a></li>
  <li><a href="#solutions-3" id="toc-solutions-3" class="nav-link" data-scroll-target="#solutions-3">Solutions</a></li>
  <li><a href="#extensions" id="toc-extensions" class="nav-link" data-scroll-target="#extensions">Extensions</a></li>
  <li><a href="#extensions-1" id="toc-extensions-1" class="nav-link" data-scroll-target="#extensions-1">Extensions</a></li>
  </ul></li>
  <li><a href="#confidence-interval-for-mu_1-mu_2" id="toc-confidence-interval-for-mu_1-mu_2" class="nav-link" data-scroll-target="#confidence-interval-for-mu_1-mu_2">Confidence Interval for <span class="math inline">\(\mu_1-\mu_2\)</span></a>
  <ul class="collapse">
  <li><a href="#confidence-interval-for-mu_1-mu_2-1" id="toc-confidence-interval-for-mu_1-mu_2-1" class="nav-link" data-scroll-target="#confidence-interval-for-mu_1-mu_2-1">Confidence Interval for <span class="math inline">\(\mu_1-\mu_2\)</span></a></li>
  <li><a href="#worked-out-example-2" id="toc-worked-out-example-2" class="nav-link" data-scroll-target="#worked-out-example-2">Worked-Out Example</a></li>
  <li><a href="#solutions-4" id="toc-solutions-4" class="nav-link" data-scroll-target="#solutions-4">Solutions</a></li>
  <li><a href="#solutions-5" id="toc-solutions-5" class="nav-link" data-scroll-target="#solutions-5">Solutions</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="mt2rev.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PSTAT 5A: Lecture 19</h1>
<p class="subtitle lead">Two-Sample Tests</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mallory Wang </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 23, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="multiple-populations" class="level2">
<h2 class="anchored" data-anchor-id="multiple-populations">Multiple Populations</h2>
<ul>
<li><p>So far, we’ve talked about constructing confidence intervals and performing hypothesis tests for both population proportions and population means.</p></li>
<li><p>One crucial thing to note is that everything we’ve done has been in the context of a <em>single</em> population</p></li>
<li><p>Sometimes, as Data Scientists, we may want to test claims about the <em>differences</em> between two populations</p>
<ul>
<li><p>E.g. Is the average monthly income in Santa Barbara different from the average monthly income in San Francisco?</p></li>
<li><p>E.g. Is the proportion of people who test positive for a disease in one country different than the proportion that test positive in a second country?</p></li>
</ul></li>
</ul>
</section>
<section id="two-populations" class="level1">
<h1>Two Populations</h1>
<section id="two-populations-1" class="level2">
<h2 class="anchored" data-anchor-id="two-populations-1">Two Populations</h2>
<ul>
<li><p>Statistically: we are imagining <em>two</em> populations, Population 1 and Population 2, governed by parameters <span class="math inline">\(\theta_1\)</span> and <span class="math inline">\(\theta_2\)</span>, respectively, and trying to test claims about the relationship between <span class="math inline">\(\theta_1\)</span> and <span class="math inline">\(\theta_2\)</span>.</p>
<ul>
<li>For example, we could consider two populations with means <span class="math inline">\(\mu_1\)</span> and <span class="math inline">\(\mu_2\)</span>, respectively, and try to make claims about whether or not <span class="math inline">\(\mu_1\)</span> and <span class="math inline">\(\mu_2\)</span> are equal.</li>
</ul></li>
<li><p>The trick Statisticians use is to think in terms of the <em>difference</em> <span class="math inline">\(\mu_1 - \mu_2.\)</span></p>
<ul>
<li>For example, if our null hypothesis is that <span class="math inline">\(\mu_1 = \mu_2\)</span>, this can be rephrased as <span class="math inline">\(H_0: \ \mu_1 - \mu_2 = 0\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="two-populations-2" class="level2">
<h2 class="anchored" data-anchor-id="two-populations-2">Two Populations</h2>
<ul>
<li><p>The reason we do this is because we have now effectively reduced our two-parameter problem into a one-parameter problem, involving only the parameter <span class="math inline">\(\delta := \mu_1 - \mu_2\)</span>.</p></li>
<li><p>Now, we will need a point estimator of <span class="math inline">\(\delta\)</span>. Just as before, we used <span class="math inline">\(\bar{X}\)</span> to estimate <span class="math inline">\(\mu\)</span>, we now use <span class="math inline">\(\bar{X}_2-\bar{X}_1\)</span> to estimate <span class="math inline">\(\mu_1 - \mu_2\)</span>.</p></li>
</ul>
</section>
<section id="two-populations-3" class="level2">
<h2 class="anchored" data-anchor-id="two-populations-3">Two Populations</h2>
<ul>
<li><p>We will ultimately need access to the sampling distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span>.</p></li>
<li><p>Just as before, we have to check conditions to determine the sampling distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span>:</p></li>
</ul>
<ol type="1">
<li><p><strong>Independence</strong> <em>within</em> each sample: The observations within each sample are independent (e.g.&nbsp;we have a random sample from each of the two populations).</p></li>
<li><p><strong>Independence</strong> <em>between</em> the samples: he two samples are independent of one another such that observations in one sample tell us nothing about the observations in the other sample (and vice versa).</p></li>
<li><p><strong>Normality</strong>: When the sample sizes are small, we require that the observations in each sample come from a normally distributed population. We can relax this condition more and more for larger and larger sample sizes. (You need to check normality for both groups.)</p></li>
</ol>
</section>
<section id="sampling-distribution-of-barx_1-barx_2" class="level2">
<h2 class="anchored" data-anchor-id="sampling-distribution-of-barx_1-barx_2">Sampling Distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span></h2>
<p>When the conditions are satisfied, the sampling distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span> will be nearly normal with mean <span class="math display">\[\mu_1 -\mu_2\]</span> and standard error <span class="math display">\[SE = \sqrt{\frac{\sigma_1^2}{n_1}+\frac{\sigma_2^2}{n_2}}\]</span></p>
</section>
<section id="sampling-distribution-of-barx_1-barx_2-1" class="level2">
<h2 class="anchored" data-anchor-id="sampling-distribution-of-barx_1-barx_2-1">Sampling Distribution of <span class="math inline">\(\bar{X}_1-\bar{X}_2\)</span></h2>
<p>This is only if we know the population standard deviation <span class="math inline">\(\sigma_1\)</span> and <span class="math inline">\(\sigma_2\)</span>, which is unlikely. Instead, we can use the sample standard deviations <span class="math inline">\(s_1\)</span> and <span class="math inline">\(s_2\)</span> so we have <span class="math display">\[SE = \sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\]</span></p>
<p>We will use technology to calculate the degrees of freedom. When we can’t use technologies, we will use the smaller of <span class="math inline">\(n_1-1\)</span> and <span class="math inline">\(n_2-1\)</span> for the degrees of freedom.</p>
</section>
</section>
<section id="hypothesis-test-for-mu_1-mu_2" class="level1">
<h1>Hypothesis Test for <span class="math inline">\(\mu_1-\mu_2\)</span></h1>
<section id="hypothesis-test-for-mu_1-mu_2-1" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-test-for-mu_1-mu_2-1">Hypothesis Test for <span class="math inline">\(\mu_1-\mu_2\)</span></h2>
<p>We will still follow the 5 steps to hypothesis test:</p>
<p><strong>Step 1</strong>: Write the hypothesis statements</p>
<p><strong>Step 2</strong>: Check conditions for determining the distribution of your sample statistic</p>
<p><strong>Step 3</strong>: Calculate test statistic</p>
<p><strong>Step 4</strong>: Use test statistic to determine decision of test (either using comparison to critical value or calculate p-value)</p>
<p><strong>Step 5</strong>: Write a conclusion in the context of the problem</p>
</section>
<section id="step-1-write-the-hypothesis-statements" class="level2">
<h2 class="anchored" data-anchor-id="step-1-write-the-hypothesis-statements">Step 1: Write the hypothesis statements</h2>
<p>The null hypothesis is</p>
<p><span class="math display">\[H_0: \mu_1-\mu_2 = 0\]</span> The alternative is one of</p>
<p><span class="math display">\[H_A: \mu_1-\mu_2 &lt; 0\]</span> <span class="math display">\[H_A: \mu_1-\mu_2 \neq 0\]</span> <span class="math display">\[H_A: \mu_1-\mu_2 &gt; 0\]</span></p>
</section>
<section id="step-2-check-conditions-for-your-sampling-distribution" class="level2">
<h2 class="anchored" data-anchor-id="step-2-check-conditions-for-your-sampling-distribution">Step 2: Check conditions for your sampling distribution</h2>
<ol type="1">
<li><p>Independence within each sample</p></li>
<li><p>Independence between samples</p></li>
<li><p>Normality</p></li>
</ol>
</section>
<section id="step-3-calculate-test-statistic" class="level2">
<h2 class="anchored" data-anchor-id="step-3-calculate-test-statistic">Step 3: Calculate test statistic</h2>
<p>Similar to how we determined our test statistic before, with the generic form:</p>
<p><span class="math display">\[\frac{\text{sample statistic} - \text{null value}}{\text{standard error}}\]</span></p>
<p>In this situation, we have:</p>
<p><span class="math display">\[\text{TS} = \frac{\bar{x}_1-\bar{x}_2 - 0}{\sqrt{\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2}}}\]</span></p>
<p>And similar to the one mean problem, this test statistic follows a <span class="math inline">\(t\)</span> distribution with degrees of freedom calculated from technology.</p>
</section>
<section id="step-4-make-decision-on-test-and-step-5-write-a-conclusion" class="level2">
<h2 class="anchored" data-anchor-id="step-4-make-decision-on-test-and-step-5-write-a-conclusion">Step 4: Make decision on test and Step 5: Write a conclusion</h2>
<ul>
<li><p>As we did with one mean, the decision will be based on the kind of test (two sided, lower tail, or greater tail tests). We will calculate the p-value to measure the strength of the evidence against the null hypothesis, comparing it to the significance level, <span class="math inline">\(\alpha\)</span>.</p></li>
<li><p>Finally, we write a conclusion in the context of the problem which include our 5 elements:</p>
<ol type="1">
<li><p>significance level,</p></li>
<li><p>decision of the test,</p></li>
<li><p>as a function of the null hypothesis. Then we write an interpretation that is</p></li>
<li><p>not too strong, and</p></li>
<li><p>in affirmation or not in affirmation of the alternative hypothesis.</p></li>
</ol></li>
</ul>
</section>
<section id="worked-out-example" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="worked-out-example">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p><em>Gaucho Gourmande</em> has two locations: one in Goleta and one in Santa Barbara. The owner would like to determine whether the average revenue generated by the two locations are equal or not. To that end, he computes the net revenue generated by the Goleta location over 30 days and also computes the net revenue generated by the Santa Barbara location over 35 days (assume all of the necessary independence conditions hold), and produced the following information:</p>
<p><span class="math display">\[\begin{array}{r|cc}
                    &amp; \text{Sample Average}     &amp; \text{Sample Standard Deviation}    \\
  \hline
  \textbf{Goleta}   &amp;     \$13                    &amp; \$3.45        \\
  \textbf{Santa Barbara}   &amp;     \$15                    &amp; \$4.23
\end{array}\]</span></p>
<p>Test the owner’s claims at an <span class="math inline">\(\alpha = 0.05\)</span> level of significance, using a two-sided alternative.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions">Solutions</h2>
<ul>
<li><p>Our first step should be to figure out what “Population 1” and “Population 2” are in the context of the problem.</p></li>
<li><p>Let “Goleta Location” be Population 1 and “Santa Barbara Location” be Population 2.</p>
<ul>
<li>It is perfectly acceptable to swap these two, but just be sure you remain consistent throughout the problem!</li>
<li>Also, I will expect you to explicitly write out your definitions of the populations (like above), even if the problem doesn’t explicitly ask you to do so.</li>
</ul></li>
<li><p>In this way, <span class="math display">\[ \overline{X} = 13; \quad s_X = 3.45; \quad \overline{Y} = 15; \quad s_Y = 4.23 \]</span></p></li>
<li><p>Additionally, <span class="math inline">\(n_1 = 30\)</span> and <span class="math inline">\(n_2 = 35\)</span>.</p></li>
</ul>
</section>
<section id="solutions-1" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="solutions-1">Solutions</h2>
<ul>
<li><p>Now, let’s compute the value of the test statistic. <span class="math display">\[ \mathrm{TS} =   \frac{\overline{Y} - \overline{X}}{\sqrt{ \frac{s_X^2}{n_1} + \frac{s_Y^2}{n_2}}} = \frac{15 - 13}{\sqrt{\frac{3.45^2}{30}  + \frac{4.23^2}{35} }} = 2.10 \]</span></p></li>
<li><p>We should next figure out the degrees of freedom: <span class="math display">\[\begin{align*}
\mathrm{df}   &amp;  = \mathrm{round}\left\{ \frac{ \left[ \left( \frac{s_X^2}{n_1} \right) + \left( \frac{s_Y^2}{n_2} \right) \right]^2 }{ \frac{\left( \frac{s_X^2}{n_1} \right)^2}{n_1 - 1} + \frac{\left( \frac{s_Y^2}{n_2} \right)^2}{n_2 - 1} } \right\}     \\
  &amp; =  \mathrm{round}\left\{ \frac{ \left[ \left( \frac{3.45^2}{30} \right) + \left( \frac{4.23^2}{35} \right) \right]^2 }{ \frac{\left( \frac{3.45^2}{30} \right)^2}{30 - 1} + \frac{\left( \frac{4.23^2}{35} \right)^2}{35 - 1} } \right\} = 63
\end{align*}\]</span></p></li>
</ul>
</section>
<section id="solutions-2" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-2">Solutions</h2>
<ul>
<li><p>At this point, we could either proceed using critical values or using <em>p</em>-values.</p></li>
<li><p>Let’s use <em>p</em>-values, for practice.</p></li>
<li><p>Our <em>p</em>-value is computed as</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> sps</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="op">*</span>sps.t.cdf(<span class="op">-</span><span class="fl">2.10</span>, <span class="dv">63</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>np.float64(0.03973904581390475)</code></pre>
</div>
</div>
</div>
<ul>
<li><p>This is below our level of significance <span class="math inline">\(\alpha = 0.05\)</span> meaning we would reject the null.</p></li>
<li><p>If we wanted to instead use critical values:</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">-</span>sps.t.ppf(<span class="fl">0.05</span>, <span class="dv">63</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>np.float64(1.669402221706813)</code></pre>
</div>
</div>
</div>
<ul>
<li>This means our critical value is 1.67; since <span class="math inline">\(|\mathrm{TS}| = |2.10| = 2.10 &gt; 1.67\)</span>, we would again reject at an <span class="math inline">\(\alpha = 0.05\)</span> level of significance.</li>
</ul>
</section>
<section id="solutions-3" class="level2">
<h2 class="anchored" data-anchor-id="solutions-3">Solutions</h2>
<blockquote class="blockquote">
<p>At a 5% level of significance, there was sufficient evidence to reject the owner’s claims that the revenue generated by the two locations are equal, in favor of the alternative that the revenue generated by the two locations are not equal.</p>
</blockquote>
</section>
<section id="extensions" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="extensions">Extensions</h2>
<ul>
<li><p>Unsurprisingly, we can adapt the above procedure to account for one-sided alternatives as well.</p></li>
<li><p>For instance, suppose we wish to test <span class="math display">\[ \left[ \begin{array}{rr}
H_0:    &amp; \mu_1 = \mu_2   \\
H_A:    &amp; \mu_1 &lt; \mu_2
\end{array} \right.\]</span></p></li>
<li><p>Again, we rephrase things as: <span class="math display">\[ \left[ \begin{array}{rr}
H_0:    &amp; \mu_2 - \mu_1 = 0   \\
H_A:    &amp; \mu_2 - \mu_1 &gt; 0
\end{array} \right.\]</span> which is now a familiar upper-tailed test on <span class="math inline">\(\delta = \mu_2 - \mu_1\)</span> and <span class="math inline">\(\mu_0 = 0.\)</span></p></li>
</ul>
</section>
<section id="extensions-1" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="extensions-1">Extensions</h2>
<ul>
<li><p>Specifically, we would take the same test statistic (which would still follow the same distribution under the null) and use the decision rule <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \mathrm{TS} &gt; c \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span> where <span class="math inline">\(c\)</span> is the appropriate quantile of the approximate <em>t</em> distribution (with degrees of freedom given by the Satterthwaite Approximation).</p></li>
<li><p>A similar result holds for the lower-tailed test- I encourage you to work it out on your own.</p></li>
</ul>
</section>
</section>
<section id="confidence-interval-for-mu_1-mu_2" class="level1">
<h1>Confidence Interval for <span class="math inline">\(\mu_1-\mu_2\)</span></h1>
<section id="confidence-interval-for-mu_1-mu_2-1" class="level2">
<h2 class="anchored" data-anchor-id="confidence-interval-for-mu_1-mu_2-1">Confidence Interval for <span class="math inline">\(\mu_1-\mu_2\)</span></h2>
<p>As with the confidence interval for one mean, we had the generic form</p>
<p><span class="math display">\[\hat{\theta} \pm c \cdot \text{standard error}\]</span></p>
<p>So confidence interval for <span class="math inline">\(\mu_1-\mu_2\)</span> is <span class="math display">\[\bar{x}_1-\bar{x}_2 \pm t^* \sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\]</span></p>
</section>
<section id="worked-out-example-2" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="worked-out-example-2">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p>Since public universities are subsidized by state governments, it is usually less expensive to attend a public university in your home state than a private university. Is this still true when you must pay out-of-state tuition? A random sample of 75 private universities had an average total cost of $42,336 with standard deviation of $14,004. A similar random sample of 80 public universities had an average out-of-state total cost of $32,240 with standard deviation $7,730. Calculate the 90% confidence interval for the difference in population mean total cost for students at private schools and the population mean total cost for out-of-state students at public schools.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions-4" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-4">Solutions</h2>
<ul>
<li><p>These are both random samples so the observations with each sample are <strong>independent</strong> of one another.</p></li>
<li><p>There is no reason why the two samples would not be independent between each other.</p></li>
<li><p>Given <span class="math inline">\(n_1 = 75 \geq 30\)</span> and <span class="math inline">\(n_2 = 80 \geq 30\)</span>, we have large enough sample to relax normality assumption and use CLT.</p></li>
<li><p>To calculate the degrees of freedom:</p></li>
</ul>
<p><span class="math display">\[df =\min(n_1-1,n_2-1) = \min(74, 79) = 74\]</span> - Calculate <span class="math inline">\(t^*\)</span> critical value given <span class="math inline">\(\alpha = 0.1\)</span> which is 1.6657</p>
</section>
<section id="solutions-5" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-5">Solutions</h2>
<p><span class="math display">\[\bar{x}_1-\bar{x}_2 \pm t^* \sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\]</span></p>
<p><span class="math display">\[(42336 - 32240) \pm 1.6657 \sqrt{\frac{14004^2}{75}+\frac{7730^2}{80}}\]</span></p>
<p><span class="math display">\[10096 \pm 3054\]</span></p>
<p><span class="math display">\[[\$7,042, \$13,150]\]</span></p>
<p>We are 90% confident that the true difference in population mean total cost for students at private schools and population mean total cost for out-of-state students at public schools is between $7,042 and $13,150.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Site Designed by Ethan Marzban using Quarto; ©2023</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>